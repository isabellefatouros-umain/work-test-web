{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/resolvePromise.js"],"sourcesContent":["export function resolvePromise(prms, promiseState){\n    console.log(\"Resolving promise:\", prms);\n    console.log(\"With promise state:\", promiseState);\n\n    promiseState.promise= prms;\n    promiseState.data= null;\n    promiseState.error= null;\n\n    function saveDataACB(promiseResult){\n        console.log(promiseResult);\n        if(promiseState.promise === prms){\n            promiseState.data = promiseResult;\n        };\n    };\n\n    function errorACB(promise){\n        console.log(promise);\n        console.log(prms);\n        console.log(promiseState);\n        if(promiseState.promise===prms){\n            promiseState.error = promise;\n        };\n    };\n\n    if(prms){\n        prms.then(saveDataACB).catch(errorACB);\n    };\n};"],"names":[],"mappings":";;;;AAAO,SAAS,eAAe,IAAI,EAAE,YAAY;IAC7C,QAAQ,GAAG,CAAC,sBAAsB;IAClC,QAAQ,GAAG,CAAC,uBAAuB;IAEnC,aAAa,OAAO,GAAE;IACtB,aAAa,IAAI,GAAE;IACnB,aAAa,KAAK,GAAE;IAEpB,SAAS,YAAY,aAAa;QAC9B,QAAQ,GAAG,CAAC;QACZ,IAAG,aAAa,OAAO,KAAK,MAAK;YAC7B,aAAa,IAAI,GAAG;QACxB;;IACJ;;IAEA,SAAS,SAAS,OAAO;QACrB,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC;QACZ,IAAG,aAAa,OAAO,KAAG,MAAK;YAC3B,aAAa,KAAK,GAAG;QACzB;;IACJ;;IAEA,IAAG,MAAK;QACJ,KAAK,IAAI,CAAC,aAAa,KAAK,CAAC;IACjC;;AACJ"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/api/apiConfig.js"],"sourcesContent":["export const API_URL = \"https://work-test-web-2024-eze6j4scpq-lz.a.run.app/api\";"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/api/restaurantSource.js"],"sourcesContent":["import { API_URL } from \"./apiConfig\"\n\nexport function getDataFromApi( apiEndpoint){\n    function gotResponseACB(response){\n        if (response.status === 200){ \n            return response.json();\n        } else {\n            throw new Error(`API returned status ${response.status}`);\n        };\n    };\n\n    function getResultsACB(json){\n        console.log(\"Full API response:\", json);\n        return json.restaurants || json.results || [];\n    };\n\n    return fetch(`${ API_URL }`+`${ apiEndpoint }`).then(gotResponseACB).then(getResultsACB);\n};\n\n/*\none restaurant object structure:\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"rating\": \"number\",\n  \"filter_ids\": [\n    \"string\"\n  ],\n  \"image_url\": \"string\",\n  \"delivery_time_minutes\": \"number\",\n  \"price_range_id\": \"string\"\n}\n*/"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,eAAgB,WAAW;IACvC,SAAS,eAAe,QAAQ;QAC5B,IAAI,SAAS,MAAM,KAAK,KAAI;YACxB,OAAO,SAAS,IAAI;QACxB,OAAO;YACH,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC5D;;IACJ;;IAEA,SAAS,cAAc,IAAI;QACvB,QAAQ,GAAG,CAAC,sBAAsB;QAClC,OAAO,KAAK,WAAW,IAAI,KAAK,OAAO,IAAI,EAAE;IACjD;;IAEA,OAAO,MAAM,GAAI,yIAAO,EAAG,GAAC,GAAI,aAAc,EAAE,IAAI,CAAC,gBAAgB,IAAI,CAAC;AAC9E;EAEA;;;;;;;;;;;;;AAaA"}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/RestaurantModel.js"],"sourcesContent":["import { resolvePromise } from \"./resolvePromise\";\nimport { getDataFromApi } from \"./api/restaurantSource\";\n\nexport const model = {\n    ready: false,\n    restaurantsShown: [],\n    filtersApplied: [],\n    filterResultsPromiseState: {},\n    user: null,\n\n\n    setUser(user){\n        this.user = user\n    },\n\n    setReady(value){\n        this.ready = value\n    },\n\n    setRestaurantsShown(restaurants){\n        this.restaurantsShown = restaurants;\n    },\n\n    setFiltersApplied(filters){\n        this.filtersApplied = filters;\n    },\n\n    getRestaurantsShown(){\n        return this.restaurantsShown\n    },\n\n    getFilters(){\n        return this.filters\n    },\n\n    getFiltersApplied(){\n        return this.filtersApplied\n    },\n\n    doFilter(filterIds){\n        this.filtersApplied = filterIds;\n    },\n};\n\n/*\none restaurant object structure:\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"rating\": \"number\",\n  \"filter_ids\": [\n    \"string\"\n  ],\n  \"image_url\": \"string\",\n  \"delivery_time_minutes\": \"number\",\n  \"price_range_id\": \"string\"\n}\n*/"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,MAAM,QAAQ;IACjB,OAAO;IACP,kBAAkB,EAAE;IACpB,gBAAgB,EAAE;IAClB,2BAA2B,CAAC;IAC5B,MAAM;IAGN,SAAQ,IAAI;QACR,IAAI,CAAC,IAAI,GAAG;IAChB;IAEA,UAAS,KAAK;QACV,IAAI,CAAC,KAAK,GAAG;IACjB;IAEA,qBAAoB,WAAW;QAC3B,IAAI,CAAC,gBAAgB,GAAG;IAC5B;IAEA,mBAAkB,OAAO;QACrB,IAAI,CAAC,cAAc,GAAG;IAC1B;IAEA;QACI,OAAO,IAAI,CAAC,gBAAgB;IAChC;IAEA;QACI,OAAO,IAAI,CAAC,OAAO;IACvB;IAEA;QACI,OAAO,IAAI,CAAC,cAAc;IAC9B;IAEA,UAAS,SAAS;QACd,IAAI,CAAC,cAAc,GAAG;IAC1B;AACJ,GAEA;;;;;;;;;;;;;AAaA"}},
    {"offset": {"line": 250, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/firebase/firebaseConfig.js"],"sourcesContent":["export const firebaseConfig = {\n  apiKey: \"AIzaSyBrxT8CT87m2p7c0_rckJJ7DG4J-0J1aag\",\n  authDomain: \"munchies-umain-f1cb1.firebaseapp.com\",\n  projectId: \"munchies-umain-f1cb1\",\n  storageBucket: \"munchies-umain-f1cb1.firebasestorage.app\",\n  messagingSenderId: \"950529560244\",\n  appId: \"1:950529560244:web:65180ab076ac4155ca51e1\"\n};"],"names":[],"mappings":";;;;AAAO,MAAM,iBAAiB;IAC5B,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/firebase/firestoreModel.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore, doc, setDoc, getDoc } from \"firebase/firestore\";\nimport { firebaseConfig } from \"./firebaseConfig.js\";\nimport { getAuth } from \"firebase/auth\";\nimport { getDataFromApi } from \"../api/restaurantSource.js\";\nimport { runInAction } from \"mobx\";\n\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nconst db = getFirestore(app);\nconst COLLECTION = \"restaurants\";\n\nexport async function connectToPersistence(reactiveModel, watcherFunction) {\n    \n    async function loadInitialData() {\n        console.log(\"Loading initial data...\");\n\n        try {\n            const restaurants = await getDataFromApi(\"/restaurants\");\n            console.log(\"Loaded restaurants:\", restaurants);\n            runInAction(() => {\n                reactiveModel.setRestaurantsShown(restaurants || []);\n                reactiveModel.setFiltersApplied([]);\n                reactiveModel.setReady(true);\n            });\n            console.log(\"Model ready set to true\");\n        } catch (error) {\n            console.error(\"Error loading restaurants:\", error);\n            runInAction(() => {\n                reactiveModel.setRestaurantsShown([]);\n                reactiveModel.setFiltersApplied([]);\n                reactiveModel.setReady(true);\n            });\n        }\n    }\n\n    async function handleSnapShotACB(snapshot) {\n        const data = snapshot.data();\n\n        runInAction(() => {\n        if (!data) {\n            loadInitialData();\n        } else {\n            reactiveModel.setRestaurantsShown(data.restaurantsShown ?? []);\n            reactiveModel.setFiltersApplied(data.filtersApplied ?? []);\n            reactiveModel.setReady(true);\n            console.log(\"Model ready set to true (from Firebase)\");\n        }});\n    }\n\n    function handleGetErrorACB(error) {\n        console.log(\"Error getting snapshot:\", error);\n        loadInitialData();\n    }\n\n    function checkModelPropertiesACB() {\n        return [reactiveModel.ready, reactiveModel.restaurantsShown, reactiveModel.filtersApplied];\n    }\n\n    async function giveDataToFireBaseACB() {\n        if (!reactiveModel.ready || !auth.currentUser) {\n            return;\n        }\n        \n        try {\n            const docReference = doc(db, COLLECTION, auth.currentUser.uid);\n            const data = {\n                restaurantsShown: reactiveModel.restaurantsShown,\n                filtersApplied: reactiveModel.filtersApplied\n            };\n            await setDoc(docReference, data);\n            console.log(\"Data saved to Firebase\");\n        } catch (error) {\n            console.log(\"Error saving to Firebase:\", error);\n        }\n    }\n\n\n\n    if (auth.currentUser) {\n        const docReference = doc(db, COLLECTION, auth.currentUser.uid);\n        getDoc(docReference).then(handleSnapShotACB).catch(handleGetErrorACB);\n    } else {\n        console.log(\"No user logged in, loading from API only\");\n        await loadInitialData();\n    }\n\n    return watcherFunction(checkModelPropertiesACB, giveDataToFireBaseACB);\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;;;;;;;AAEA,MAAM,MAAM,IAAA,iLAAa,EAAC,0JAAc;AACjC,MAAM,OAAO,IAAA,6KAAO,EAAC;AAC5B,MAAM,KAAK,IAAA,iLAAY,EAAC;AACxB,MAAM,aAAa;AAEZ,eAAe,qBAAqB,aAAa,EAAE,eAAe;IAErE,eAAe;QACX,QAAQ,GAAG,CAAC;QAEZ,IAAI;YACA,MAAM,cAAc,MAAM,IAAA,uJAAc,EAAC;YACzC,QAAQ,GAAG,CAAC,uBAAuB;YACnC,IAAA,0JAAW,EAAC;gBACR,cAAc,mBAAmB,CAAC,eAAe,EAAE;gBACnD,cAAc,iBAAiB,CAAC,EAAE;gBAClC,cAAc,QAAQ,CAAC;YAC3B;YACA,QAAQ,GAAG,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,IAAA,0JAAW,EAAC;gBACR,cAAc,mBAAmB,CAAC,EAAE;gBACpC,cAAc,iBAAiB,CAAC,EAAE;gBAClC,cAAc,QAAQ,CAAC;YAC3B;QACJ;IACJ;IAEA,eAAe,kBAAkB,QAAQ;QACrC,MAAM,OAAO,SAAS,IAAI;QAE1B,IAAA,0JAAW,EAAC;YACZ,IAAI,CAAC,MAAM;gBACP;YACJ,OAAO;gBACH,cAAc,mBAAmB,CAAC,KAAK,gBAAgB,IAAI,EAAE;gBAC7D,cAAc,iBAAiB,CAAC,KAAK,cAAc,IAAI,EAAE;gBACzD,cAAc,QAAQ,CAAC;gBACvB,QAAQ,GAAG,CAAC;YAChB;QAAC;IACL;IAEA,SAAS,kBAAkB,KAAK;QAC5B,QAAQ,GAAG,CAAC,2BAA2B;QACvC;IACJ;IAEA,SAAS;QACL,OAAO;YAAC,cAAc,KAAK;YAAE,cAAc,gBAAgB;YAAE,cAAc,cAAc;SAAC;IAC9F;IAEA,eAAe;QACX,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,KAAK,WAAW,EAAE;YAC3C;QACJ;QAEA,IAAI;YACA,MAAM,eAAe,IAAA,wKAAG,EAAC,IAAI,YAAY,KAAK,WAAW,CAAC,GAAG;YAC7D,MAAM,OAAO;gBACT,kBAAkB,cAAc,gBAAgB;gBAChD,gBAAgB,cAAc,cAAc;YAChD;YACA,MAAM,IAAA,2KAAM,EAAC,cAAc;YAC3B,QAAQ,GAAG,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,GAAG,CAAC,6BAA6B;QAC7C;IACJ;IAIA,IAAI,KAAK,WAAW,EAAE;QAClB,MAAM,eAAe,IAAA,wKAAG,EAAC,IAAI,YAAY,KAAK,WAAW,CAAC,GAAG;QAC7D,IAAA,2KAAM,EAAC,cAAc,IAAI,CAAC,mBAAmB,KAAK,CAAC;IACvD,OAAO;QACH,QAAQ,GAAG,CAAC;QACZ,MAAM;IACV;IAEA,OAAO,gBAAgB,yBAAyB;AACpD"}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/mobxReactiveModel.js"],"sourcesContent":["import {model} from \"./RestaurantModel\";\nimport { connectToPersistence } from \"./firebase/firestoreModel\";\nimport { observable, configure, reaction } from \"mobx\";\n\nexport const reactiveModel= observable(model);\n\nconfigure({ enforceActions: \"always\" });\n\nfunction checkIdStateACB(){\n    return reactiveModel.filtersApplied;\n}\n\nreactiveModel.doFilter({});\n\nconnectToPersistence(reactiveModel, reaction);\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,gBAAe,IAAA,yJAAU,EAAC,sIAAK;AAE5C,IAAA,wJAAS,EAAC;IAAE,gBAAgB;AAAS;AAErC,SAAS;IACL,OAAO,cAAc,cAAc;AACvC;AAEA,cAAc,QAAQ,CAAC,CAAC;AAExB,IAAA,gKAAoB,EAAC,eAAe,uJAAQ"}},
    {"offset": {"line": 388, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/page.jsx"],"sourcesContent":["\"use client\";\n\nimport dynamic from 'next/dynamic';\nimport { reactiveModel } from \"./mobxReactiveModel.js\";\nimport { observer } from \"mobx-react-lite\";\nimport { useEffect, useState } from \"react\";\nimport { getDataFromApi } from \"./api/restaurantSource\";\n\nconst ReactRoot = dynamic(() => import(\"./ReactRoot.jsx\").then(mod => ({ default: mod.ReactRoot })), {\n  ssr: false,\n  loading: () => <div>Loading...</div>\n});\n\nconst Home = observer(function Home() {\n  console.log(\"Page render - restaurants:\", reactiveModel.restaurantsShown);\n  console.log(\"Page render - length:\", reactiveModel.restaurantsShown?.length);\n  \n\n  const [testData, setTestData] = useState(null);\n  \n  useEffect(() => {\n    // Testa API-anrop\n    getDataFromApi(\"/restaurants\")\n      .then(data => {\n        console.log(\"API test successful:\", data);\n        setTestData(data);\n      })\n      .catch(error => {\n        console.error(\"API test failed:\", error);\n      });\n  }, []);\n\n  return (\n    <div>\n      <h2>Debug Info:</h2>\n      <p>Model ready: {reactiveModel.ready ? \"Yes\" : \"No\"}</p>\n      <p>Restaurants in model: {reactiveModel.restaurantsShown?.length || 0}</p>\n      <p>API test data: {testData ? `${testData.length} restaurants` : \"Loading...\"}</p>\n      \n      <hr style={{ margin: '2rem 0' }} />\n      \n      <ReactRoot model={reactiveModel} />\n    </div>\n  );\n}\n);\n\nexport default Home;\n\n/*\"use client\";\n\nimport { ReactRoot } from \"./ReactRoot.jsx\";\nimport { reactiveModel } from \"./mobxReactiveModel.js\";\n\nexport default function Home() {\n  console.log(\"Model:\", reactiveModel);\n  console.log(\"Model ready:\", reactiveModel.ready);\n  \n  return (\n    <div>\n      <h2>Debug Info:</h2>\n      <p>Model ready: {reactiveModel.ready ? \"Yes\" : \"No\"}</p>\n      <p>Model exists: {reactiveModel ? \"Yes\" : \"No\"}</p>\n      \n      <hr style={{ margin: '2rem 0' }} />\n      \n      <ReactRoot model={reactiveModel} />\n    </div>\n  );\n}*/"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;;AANA;;;;;;;AAQA,MAAM,YAAY,IAAA,0KAAO;;;;;;IACvB,KAAK;IACL,SAAS,kBAAM,8OAAC;sBAAI;;;;;;;AAGtB,MAAM,OAAO,IAAA,mKAAQ,EAAC,SAAS;IAC7B,QAAQ,GAAG,CAAC,8BAA8B,gJAAa,CAAC,gBAAgB;IACxE,QAAQ,GAAG,CAAC,yBAAyB,gJAAa,CAAC,gBAAgB,EAAE;IAGrE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,kBAAkB;QAClB,IAAA,uJAAc,EAAC,gBACZ,IAAI,CAAC,CAAA;YACJ,QAAQ,GAAG,CAAC,wBAAwB;YACpC,YAAY;QACd,GACC,KAAK,CAAC,CAAA;YACL,QAAQ,KAAK,CAAC,oBAAoB;QACpC;IACJ,GAAG,EAAE;IAEL,qBACE,8OAAC;;0BACC,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;;oBAAE;oBAAc,gJAAa,CAAC,KAAK,GAAG,QAAQ;;;;;;;0BAC/C,8OAAC;;oBAAE;oBAAuB,gJAAa,CAAC,gBAAgB,EAAE,UAAU;;;;;;;0BACpE,8OAAC;;oBAAE;oBAAgB,WAAW,GAAG,SAAS,MAAM,CAAC,YAAY,CAAC,GAAG;;;;;;;0BAEjE,8OAAC;gBAAG,OAAO;oBAAE,QAAQ;gBAAS;;;;;;0BAE9B,8OAAC;gBAAU,OAAO,gJAAa;;;;;;;;;;;;AAGrC;uCAGe;CAEf;;;;;;;;;;;;;;;;;;;;CAoBC"}},
    {"offset": {"line": 518, "column": 4}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}