{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/views/suspenseView.jsx"],"sourcesContent":["import \"../styles/globals.css\";\n\nexport function SuspenseView(props){\n     if (props.promise && props.error){\n        return <span>{props.error.toString()}</span>;\n    };\n    return <div>Loading...</div>;\n};"],"names":[],"mappings":";;;;;;;AAEO,SAAS,aAAa,KAAK;IAC7B,IAAI,MAAM,OAAO,IAAI,MAAM,KAAK,EAAC;QAC9B,qBAAO,6LAAC;sBAAM,MAAM,KAAK,CAAC,QAAQ;;;;;;IACtC;;IACA,qBAAO,6LAAC;kBAAI;;;;;;AAChB;KALgB"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/components/restaurantCard.jsx"],"sourcesContent":["import '../styles/globals.css';\n\nexport function RestaurantCard({restaurant}) {\n  return (\n    <div className=\"restaurant-card\">\n        <div className=\"restaurant-name\">{restaurant.name}</div>\n        <div className=\"restaurant-open\">\n          <span className =\"lower-text\">{restaurant.is_open? \"Open\" : \"Closed\"}</span>\n          </div>\n        <div className=\"restaurant-delivery-time\">\n          <span className=\"lower-text\">{restaurant.delivery_time_minutes} min</span>\n        </div> \n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEO,SAAS,eAAe,EAAC,UAAU,EAAC;IACzC,qBACE,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;0BAAmB,WAAW,IAAI;;;;;;0BACjD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAK,WAAW;8BAAc,WAAW,OAAO,GAAE,SAAS;;;;;;;;;;;0BAE9D,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAK,WAAU;;wBAAc,WAAW,qBAAqB;wBAAC;;;;;;;;;;;;;;;;;;AAIzE;KAZgB"}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/views/filterResultsView.jsx"],"sourcesContent":["import \"../styles/globals.css\";\nimport { RestaurantCard } from \"../components/restaurantCard.jsx\";\nimport { SuspenseView } from \"./suspenseView.jsx\";\n\n\nexport function FilterResultsView(props){\n    if (!props.allRestaurants) {\n        return <SuspenseView model={props.model}/>;\n    }\n\n    return(\n        <div className=\"results-parent\">\n            <h2 className=\"results-title\">Restaurantâ€™s</h2>\n\n            <div className=\"results-content\">\n                {props.allRestaurants.length === 0 ? (\n                    <p>Inga restauranger matchar dina filter.</p>\n                ) : (\n                    props.allRestaurants.map(restaurant => (\n                        <RestaurantCard key={restaurant.id} restaurant={restaurant} />\n                    ))\n                )}  \n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;AAGO,SAAS,kBAAkB,KAAK;IACnC,IAAI,CAAC,MAAM,cAAc,EAAE;QACvB,qBAAO,6LAAC,uJAAY;YAAC,OAAO,MAAM,KAAK;;;;;;IAC3C;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAgB;;;;;;0BAE9B,6LAAC;gBAAI,WAAU;0BACV,MAAM,cAAc,CAAC,MAAM,KAAK,kBAC7B,6LAAC;8BAAE;;;;;2BAEH,MAAM,cAAc,CAAC,GAAG,CAAC,CAAA,2BACrB,6LAAC,gKAAc;wBAAqB,YAAY;uBAA3B,WAAW,EAAE;;;;;;;;;;;;;;;;AAM1D;KApBgB"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/views/topbarFilterView.jsx"],"sourcesContent":["import \"../styles/globals.css\";\n\nexport function TopbarFilterView(props){\n    if (!props.foodCategoryFilters || !props.activeFilters) {\n        return null;\n    }\n\n    return(\n        <div className=\"topbar-filter-parent\">\n            <div className=\"topbar-filter-cards\">\n                {(props.foodCategoryFilters || []).map(filter => (\n                    <button\n                        key={filter.id}\n                        className={\"topbar-filter-card \" + (props.activeFilters.includes(filter.id) ? \"active\" : \"\")}\n                        onClick={() => props.onFilterClick(filter.id)}\n                    >\n                        <span>{filter.name}</span>\n                    </button>\n                ))}\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;;;AAEO,SAAS,iBAAiB,KAAK;IAClC,IAAI,CAAC,MAAM,mBAAmB,IAAI,CAAC,MAAM,aAAa,EAAE;QACpD,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAU;kBACX,cAAA,6LAAC;YAAI,WAAU;sBACV,CAAC,MAAM,mBAAmB,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,uBACnC,6LAAC;oBAEG,WAAW,wBAAwB,CAAC,MAAM,aAAa,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,WAAW,EAAE;oBAC3F,SAAS,IAAM,MAAM,aAAa,CAAC,OAAO,EAAE;8BAE5C,cAAA,6LAAC;kCAAM,OAAO,IAAI;;;;;;mBAJb,OAAO,EAAE;;;;;;;;;;;;;;;AAUtC;KApBgB"}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/views/sidebarFilterView.jsx"],"sourcesContent":["import \"../styles/globals.css\";\n\nexport function SidebarFilterView(props){\n    if (!props.foodCategoryFilters || !props.deliveryTimeFilters || !props.priceFilters || !props.activeFilters) {\n        return null;\n    }\n\n    return(\n        <div className=\"sidebar-filter-parent\">\n            <h2 className=\"sidebar-filter-title\">Filter</h2>\n\n            <div className=\"sidebar-filter-content\">\n                <div className=\"filter-food-category sidebar-filter-item\">\n                    <h3 className=\"filter-subcategory-title\">Food Category</h3>\n                    {(props.foodCategoryFilters || []).map(filter => (\n                    <button\n                        key={filter.id}\n                        className={\"filter-pill \" + (props.activeFilters.includes(filter.id) ? \"active\" : \"\")}\n                        onClick={() => props.onFilterClick(filter.id)}\n                    >\n                        {filter.name}\n                    </button>))}\n                </div>\n\n                <div className=\"filter-delivery-time sidebar-filter-item\">\n                    <h3 className=\"filter-subcategory-title\">Delivery Time</h3>\n                    {(props.deliveryTimeFilters || []).map(filter => (\n                    <button\n                        key={filter.id}\n                        className={\"filter-pill \" + (props.activeFilters.includes(filter.id) ? \"active\" : \"\")}\n                        onClick={() => props.onFilterClick(filter.id)}\n                    >\n                        {filter.name}\n                    </button>))}\n                </div>\n\n                <div className=\"filter-price-range sidebar-filter-item\">\n                    <h3 className=\"filter-subcategory-title\">Price Range</h3>\n                    {(props.priceFilters || []).map(filter => (\n                    <button \n                        key={filter.id}\n                        className={\"filter-pill \" + (props.activeFilters.includes(filter.id) ? \"active\" : \"\")}\n                        onClick={() => props.onFilterClick(filter.id)}\n                    >\n                        {filter.name}\n                    </button>))}\n                </div>\n            </div>\n        </div>\n    );\n};\n"],"names":[],"mappings":";;;;;;;AAEO,SAAS,kBAAkB,KAAK;IACnC,IAAI,CAAC,MAAM,mBAAmB,IAAI,CAAC,MAAM,mBAAmB,IAAI,CAAC,MAAM,YAAY,IAAI,CAAC,MAAM,aAAa,EAAE;QACzG,OAAO;IACX;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAuB;;;;;;0BAErC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAA2B;;;;;;4BACxC,CAAC,MAAM,mBAAmB,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,uBACvC,6LAAC;oCAEG,WAAW,iBAAiB,CAAC,MAAM,aAAa,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,WAAW,EAAE;oCACpF,SAAS,IAAM,MAAM,aAAa,CAAC,OAAO,EAAE;8CAE3C,OAAO,IAAI;mCAJP,OAAO,EAAE;;;;;;;;;;;kCAQtB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAA2B;;;;;;4BACxC,CAAC,MAAM,mBAAmB,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,uBACvC,6LAAC;oCAEG,WAAW,iBAAiB,CAAC,MAAM,aAAa,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,WAAW,EAAE;oCACpF,SAAS,IAAM,MAAM,aAAa,CAAC,OAAO,EAAE;8CAE3C,OAAO,IAAI;mCAJP,OAAO,EAAE;;;;;;;;;;;kCAQtB,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAG,WAAU;0CAA2B;;;;;;4BACxC,CAAC,MAAM,YAAY,IAAI,EAAE,EAAE,GAAG,CAAC,CAAA,uBAChC,6LAAC;oCAEG,WAAW,iBAAiB,CAAC,MAAM,aAAa,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,WAAW,EAAE;oCACpF,SAAS,IAAM,MAAM,aAAa,CAAC,OAAO,EAAE;8CAE3C,OAAO,IAAI;mCAJP,OAAO,EAAE;;;;;;;;;;;;;;;;;;;;;;;AAUtC;KAhDgB"}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/presenters/restaurantFilterPresenter.jsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport { SuspenseView } from \"../views/suspenseView.jsx\";\nimport { FilterResultsView } from \"../views/filterResultsView.jsx\";\nimport { TopbarFilterView } from \"../views/topbarFilterView.jsx\";\nimport { SidebarFilterView } from \"../views/sidebarFilterView.jsx\";\n\nexport const RestaurantFilter = observer(\n    function RestaurantFilterRender(props) {\n        function onFilterClickACB(filter) {\n            props.model.toggleFilter(filter);\n            };\n\n        console.log(\"All restaurants:\", props.model.allRestaurants);\n        console.log(\"Food filters:\", props.model.foodCategoryFilters);\n        console.log(\"Price filters:\", props.model.priceFilters);\n        console.log(\"Time filters:\", props.model.deliveryTimeFilters);\n        console.log(\"Applied filters:\", props.model.appliedFilters);\n        console.log(\"Filtered restaurants:\", props.model.filterRestaurants());\n\n        return (\n            <div className=\"page-layout\">\n                <SidebarFilterView \n                        onFilterClick={onFilterClickACB}\n                        activeFilters={props.model.appliedFilters}\n                        foodCategoryFilters={props.model.foodCategoryFilters}\n                        deliveryTimeFilters={props.model.deliveryTimeFilters}\n                        priceFilters={props.model.priceFilters}\n                    />\n\n                <div className=\"topbar-results-layout\">\n                    <TopbarFilterView \n                        onFilterClick={onFilterClickACB}\n                        activeFilters={props.model.appliedFilters}\n                        foodCategoryFilters={props.model.foodCategoryFilters}\n                    />\n                    <div className=\"results-layout\">\n                        {props.model.filterResultsPromiseState.data? (\n                            <FilterResultsView \n                                restaurants={props.model.filterRestaurants()}\n                            />\n                        ) : (\n                            <SuspenseView \n                                promise={props.model.filterResultsPromiseState.promise}\n                                error={props.model.filterResultsPromiseState.error}\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n);\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEO,MAAM,mBAAmB,IAAA,sKAAQ,OACpC,SAAS,uBAAuB,KAAK;IACjC,SAAS,iBAAiB,MAAM;QAC5B,MAAM,KAAK,CAAC,YAAY,CAAC;IACzB;;IAEJ,QAAQ,GAAG,CAAC,oBAAoB,MAAM,KAAK,CAAC,cAAc;IAC1D,QAAQ,GAAG,CAAC,iBAAiB,MAAM,KAAK,CAAC,mBAAmB;IAC5D,QAAQ,GAAG,CAAC,kBAAkB,MAAM,KAAK,CAAC,YAAY;IACtD,QAAQ,GAAG,CAAC,iBAAiB,MAAM,KAAK,CAAC,mBAAmB;IAC5D,QAAQ,GAAG,CAAC,oBAAoB,MAAM,KAAK,CAAC,cAAc;IAC1D,QAAQ,GAAG,CAAC,yBAAyB,MAAM,KAAK,CAAC,iBAAiB;IAElE,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC,iKAAiB;gBACV,eAAe;gBACf,eAAe,MAAM,KAAK,CAAC,cAAc;gBACzC,qBAAqB,MAAM,KAAK,CAAC,mBAAmB;gBACpD,qBAAqB,MAAM,KAAK,CAAC,mBAAmB;gBACpD,cAAc,MAAM,KAAK,CAAC,YAAY;;;;;;0BAG9C,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,+JAAgB;wBACb,eAAe;wBACf,eAAe,MAAM,KAAK,CAAC,cAAc;wBACzC,qBAAqB,MAAM,KAAK,CAAC,mBAAmB;;;;;;kCAExD,6LAAC;wBAAI,WAAU;kCACV,MAAM,KAAK,CAAC,yBAAyB,CAAC,IAAI,iBACvC,6LAAC,iKAAiB;4BACd,aAAa,MAAM,KAAK,CAAC,iBAAiB;;;;;iDAG9C,6LAAC,uJAAY;4BACT,SAAS,MAAM,KAAK,CAAC,yBAAyB,CAAC,OAAO;4BACtD,OAAO,MAAM,KAAK,CAAC,yBAAyB,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;AAO9E"}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/ReactRoot.jsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport { RestaurantFilter } from \"./presenters/restaurantFilterPresenter.jsx\";\nimport { SuspenseView } from \"./views/suspenseView.jsx\";\n\nexport const ReactRoot = observer(function ReactRoot(props){\n        if (!props.model.ready){\n            return (\n                <div> \n                    <h2>Model not ready...</h2>\n                    <SuspenseView promise={props.model.filterResultsPromiseState.promise} \n                                error={props.model.filterResultsPromiseState.error}/>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <RestaurantFilter model={props.model} />\n            </div>\n        );\n    }     \n)"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAEO,MAAM,YAAY,IAAA,sKAAQ,OAAC,SAAS,UAAU,KAAK;IAClD,IAAI,CAAC,MAAM,KAAK,CAAC,KAAK,EAAC;QACnB,qBACI,6LAAC;;8BACG,6LAAC;8BAAG;;;;;;8BACJ,6LAAC,uJAAY;oBAAC,SAAS,MAAM,KAAK,CAAC,yBAAyB,CAAC,OAAO;oBACxD,OAAO,MAAM,KAAK,CAAC,yBAAyB,CAAC,KAAK;;;;;;;;;;;;IAG1E;IACA,qBACI,6LAAC;kBACG,cAAA,6LAAC,6KAAgB;YAAC,OAAO,MAAM,KAAK;;;;;;;;;;;AAGhD"}},
    {"offset": {"line": 522, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/resolvePromise.js"],"sourcesContent":["import { runInAction } from \"mobx\";\n\nexport function resolvePromise(prms, promiseState){\n    console.log(\"Resolving promise:\", prms);\n    console.log(\"With promise state:\", promiseState);\n\n    runInAction(() => {\n        promiseState.promise = prms;\n        promiseState.data = null;\n        promiseState.error = null;\n    });\n\n    function saveDataACB(promiseResult){\n        console.log(promiseResult);\n        if(promiseState.promise === prms){\n            promiseState.data = promiseResult;\n        };\n    };\n\n    function errorACB(promise){\n        console.log(promise);\n        console.log(prms);\n        console.log(promiseState);\n        if(promiseState.promise===prms){\n            promiseState.error = promise;\n        };\n    };\n\n    if(prms){\n        prms.then(saveDataACB).catch(errorACB);\n    };\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,eAAe,IAAI,EAAE,YAAY;IAC7C,QAAQ,GAAG,CAAC,sBAAsB;IAClC,QAAQ,GAAG,CAAC,uBAAuB;IAEnC,IAAA,6JAAW,EAAC;QACR,aAAa,OAAO,GAAG;QACvB,aAAa,IAAI,GAAG;QACpB,aAAa,KAAK,GAAG;IACzB;IAEA,SAAS,YAAY,aAAa;QAC9B,QAAQ,GAAG,CAAC;QACZ,IAAG,aAAa,OAAO,KAAK,MAAK;YAC7B,aAAa,IAAI,GAAG;QACxB;;IACJ;;IAEA,SAAS,SAAS,OAAO;QACrB,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC;QACZ,IAAG,aAAa,OAAO,KAAG,MAAK;YAC3B,aAAa,KAAK,GAAG;QACzB;;IACJ;;IAEA,IAAG,MAAK;QACJ,KAAK,IAAI,CAAC,aAAa,KAAK,CAAC;IACjC;;AACJ"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/api/apiConfig.js"],"sourcesContent":["export const API_URL = \"https://work-test-web-2024-eze6j4scpq-lz.a.run.app/api\";"],"names":[],"mappings":";;;;AAAO,MAAM,UAAU"}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/api/restaurantSource.js"],"sourcesContent":["import { API_URL } from \"./apiConfig\"\n\nexport function getRestaurantsApi(){\n    function gotResponseACB(response){\n        if (response.status === 200){ \n            return response.json();\n        } else {\n            throw new Error(`API returned status ${response.status}`);\n        };\n    };\n\n    function getResultsACB(json){\n        console.log(\"Full API response:\", json);\n        return json.restaurants || [];\n    };\n    return fetch(`${ API_URL }`+`/restaurants`).then(gotResponseACB).then(getResultsACB);\n};\n\nexport function getFiltersApi(){\n    function gotResponseACB(response){\n        if (response.status === 200){ \n            return response.json();\n        } else {\n            throw new Error(`API returned status ${response.status}`);\n        };\n    };\n\n    function getResultsACB(json){\n        console.log(\"Full API response:\", json);\n        return json.filters || [];\n    };\n    return fetch(`${ API_URL }`+`/filter`).then(gotResponseACB).then(getResultsACB);\n};\n\nexport function getIsOpenApi(id){\n    function gotResponseACB(response){\n        if (response.status === 200){ \n            return response.json();\n        } else {\n            throw new Error(`API returned status ${response.status}`);\n        };\n    };\n\n    function getResultsACB(json){\n        console.log(\"Full API response:\", json);\n        return json.is_currently_open || [];\n    };\n    return fetch(`${ API_URL }`+`/open/${id}`).then(gotResponseACB).then(getResultsACB);\n};\n\n/*\nRestaurant object structure:\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"rating\": \"number\",\n  \"filter_ids\": [\n    \"string\"\n  ],\n  \"image_url\": \"string\",\n  \"delivery_time_minutes\": \"number\",\n  \"price_range_id\": \"string\"\n}\n\nFilter object structure:\n{\n  \"filters\": [\n    {\n      \"id\": \"string\",\n      \"name\": \"string\",\n      \"image_url\": \"string\"\n    }\n  ]\n}\n\nIsOpen object structure:\n{\n  \"restaurant_id\": \"string\",\n  \"is_currently_open\": \"boolean\"\n}\n*/"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,SAAS;IACZ,SAAS,eAAe,QAAQ;QAC5B,IAAI,SAAS,MAAM,KAAK,KAAI;YACxB,OAAO,SAAS,IAAI;QACxB,OAAO;YACH,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC5D;;IACJ;;IAEA,SAAS,cAAc,IAAI;QACvB,QAAQ,GAAG,CAAC,sBAAsB;QAClC,OAAO,KAAK,WAAW,IAAI,EAAE;IACjC;;IACA,OAAO,MAAM,GAAI,4IAAO,EAAG,GAAC,CAAC,YAAY,CAAC,EAAE,IAAI,CAAC,gBAAgB,IAAI,CAAC;AAC1E;;AAEO,SAAS;IACZ,SAAS,eAAe,QAAQ;QAC5B,IAAI,SAAS,MAAM,KAAK,KAAI;YACxB,OAAO,SAAS,IAAI;QACxB,OAAO;YACH,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC5D;;IACJ;;IAEA,SAAS,cAAc,IAAI;QACvB,QAAQ,GAAG,CAAC,sBAAsB;QAClC,OAAO,KAAK,OAAO,IAAI,EAAE;IAC7B;;IACA,OAAO,MAAM,GAAI,4IAAO,EAAG,GAAC,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,gBAAgB,IAAI,CAAC;AACrE;;AAEO,SAAS,aAAa,EAAE;IAC3B,SAAS,eAAe,QAAQ;QAC5B,IAAI,SAAS,MAAM,KAAK,KAAI;YACxB,OAAO,SAAS,IAAI;QACxB,OAAO;YACH,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC5D;;IACJ;;IAEA,SAAS,cAAc,IAAI;QACvB,QAAQ,GAAG,CAAC,sBAAsB;QAClC,OAAO,KAAK,iBAAiB,IAAI,EAAE;IACvC;;IACA,OAAO,MAAM,GAAI,4IAAO,EAAG,GAAC,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,gBAAgB,IAAI,CAAC;AACzE;EAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA"}},
    {"offset": {"line": 680, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/RestaurantModel.js"],"sourcesContent":["import { resolvePromise } from \"./resolvePromise\";\nimport { getRestaurantsApi, getFiltersApi, getIsOpenApi } from \"./api/restaurantSource.js\";\nimport { makeAutoObservable } from \"mobx\";\n\nexport const model = {\n    ready: false,\n    allRestaurants: [],\n    foodCategoryFilters: [],\n    priceFilters: [],\n    deliveryTimeFilters: [],\n    appliedFilters: [],\n    filterResultsPromiseState: { promise: null, data: null, error: null },\n\n    setReady(value){\n        this.ready = value;\n    },\n\n    setAllRestaurants(restaurants){\n        this.allRestaurants = restaurants;\n    },\n\n    async loadRestaurants() {\n        const restaurants = getRestaurantsApi();\n        console.log(\"Restaurants from Api:\", restaurants); //debug\n        resolvePromise(restaurants, this.filterResultsPromiseState);\n        try {\n            const data = await restaurants;\n            this.setAllRestaurants(data);\n        } catch (error) {\n            console.error(\"Error loading restaurants:\", error);\n        }\n    },\n\n    getAllRestaurants(){\n        return this.allRestaurants;\n    },\n\n    setFilter(filterType, filters) {\n        this[filterType] = filters;\n        },\n\n\n    async loadFoodFilters() {\n        const foodFilters = getFiltersApi();\n        console.log(\"Fetched food filters:\", foodFilters); //debug\n        return foodFilters;\n    },\n\n    assignTimeFilter(restaurantTime) {\n        if (restaurantTime <= 10) {\n            return \"0-10 min\";\n        } else if (restaurantTime <= 30) {\n            return \"10-30 min\";\n        } else if (restaurantTime <= 60) {\n            return \"30-60 min\";\n        } else {\n            return \"1+ hour\";\n        }\n    },\n\n    assignPriceFilters(restaurantPrice) {\n         if (restaurantPrice <= 100) {\n            return \"$\";\n        } else if (restaurantPrice <= 200) {\n            return \"$$\";\n        } else if (restaurantPrice <= 300) {\n            return \"$$$\";\n        } else {\n            return \"$$$$\";\n        }\n    },\n\n    generatePriceFilters() {\n        const priceSet = new Set();\n        this.allRestaurants.forEach(restaurant => {\n            if (restaurant.price_range_id) {\n                priceSet.add(restaurant.price_range_id);\n            }\n        });\n        return Array.from(priceSet).sort();\n    },\n\n    generateDeliveryTimeFilters() {\n        const timeSet = new Set();\n        this.allRestaurants.forEach(restaurant => {\n            const timeFilter = this.assignTimeFilter(restaurant.delivery_time_minutes);\n            timeSet.add(timeFilter);\n        });\n        const order = [\"0-10 min\", \"10-30 min\", \"30-60 min\", \"1+ hour\"];\n        return Array.from(timeSet).sort((a, b) => order.indexOf(a) - order.indexOf(b));\n    },\n\n    assignImgAsset(restaurantImgLink) {\n        const keywords = [\"hamburgers\", \"pizza\", \"taco\", \"breakfast\", \"coffee\", \"fries\", \"mexican\"];\n        const match = keywords.find(keyword => restaurantImgLink.includes(keyword));\n        return match? `${match}.png`: \"default.png\";\n    },\n\n\n    async loadIfOpenFilter(id) {\n        const Is_open = getIsOpenApi(id);\n        console.log(\"Fetched if open\", Is_open); //debug\n        return Is_open;\n    },\n\n    setIfOpen(restaurantId, isOpen) {\n        const restaurant = this.allRestaurants.find(r => r.id === restaurantId);\n        if (restaurant) {\n            restaurant.is_currently_open = isOpen;\n        }\n    },\n\n    getFoodFilterIds(restaurants) {\n        const allFilterIds = new Set();\n        restaurants.forEach(restaurant => {\n            if (restaurant.filter_ids) {\n                restaurant.filter_ids.forEach(filterId => {\n                    allFilterIds.add(filterId);\n                });\n            }\n        });\n        const filterArray = Array.from(allFilterIds);\n        return filterArray;\n    },\n\n    toggleFilter(filter) {\n        console.log(\"Applied filters:\", this.appliedFilters);\n        if (this.appliedFilters.includes(filter)) {\n            this.appliedFilters = this.appliedFilters.filter(f => f !== filter);\n        } else {\n            this.appliedFilters = [...this.appliedFilters, filter];\n        }\n    },\n\n    filterRestaurants() {\n        let filtered = this.allRestaurants || [];\n\n        if (this.appliedFilters.length === 0) {\n            return filtered;\n        }\n        filtered = filtered.filter(restaurant => {\n            return this.appliedFilters.some(filter => {\n                if (restaurant.filter_ids?.includes(filter)) return true;\n                if (this.assignPriceFilters(restaurant.price_range_id) === filter) return true;\n                if (this.assignTimeFilter(restaurant.delivery_time_minutes) === filter) return true;\n                return false;\n            });\n        });\n        return filtered;\n    },\n};\n\nmakeAutoObservable(model)\n\n\n/*\none restaurant object structure:\n{\n  \"id\": \"string\",\n  \"name\": \"string\",\n  \"rating\": \"number\",\n  \"filter_ids\": [\n    \"string\"\n  ],\n  \"image_url\": \"string\",\n  \"delivery_time_minutes\": \"number\",\n  \"price_range_id\": \"string\"\n}\n*/\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/mobxReactiveModel.js"],"sourcesContent":["import {model} from \"./RestaurantModel\";\nimport { observable, configure, reaction } from \"mobx\";\n\nexport const reactiveModel= observable(model);\nconfigure({ enforceActions: \"always\" });\n\nexport function checkIdStateACB(){\n    return reactiveModel.filtersApplied;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,gBAAe,IAAA,4JAAU,EAAC,yIAAK;AAC5C,IAAA,2JAAS,EAAC;IAAE,gBAAgB;AAAS;AAE9B,SAAS;IACZ,OAAO,cAAc,cAAc;AACvC"}},
    {"offset": {"line": 883, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/firebase/firebaseConfig.js"],"sourcesContent":["export const firebaseConfig = {\n  apiKey: \"AIzaSyBrxT8CT87m2p7c0_rckJJ7DG4J-0J1aag\",\n  authDomain: \"munchies-umain-f1cb1.firebaseapp.com\",\n  projectId: \"munchies-umain-f1cb1\",\n  storageBucket: \"munchies-umain-f1cb1.firebasestorage.app\",\n  messagingSenderId: \"950529560244\",\n  appId: \"1:950529560244:web:65180ab076ac4155ca51e1\"\n};"],"names":[],"mappings":";;;;AAAO,MAAM,iBAAiB;IAC5B,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT"}},
    {"offset": {"line": 902, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/firebase/firestoreModel.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore, doc, setDoc, getDoc } from \"firebase/firestore\";\nimport { firebaseConfig } from \"./firebaseConfig.js\";\nimport { runInAction } from \"mobx\";\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst COLLECTION = \"restaurants\";\n\nexport async function connectToPersistence(reactiveModel, watcherFunction) {\n    console.log(\"connectToPersistence called\"); //debug\n\n    async function loadInitialData() {\n        console.log(\"Loading initial data...\"); //debug\n\n        await reactiveModel.loadRestaurants();\n        const foodFilters = await reactiveModel.loadFoodFilters();\n        reactiveModel.setFilter(\"priceFilters\", reactiveModel.generatePriceFilters());\n            reactiveModel.setFilter(\"deliveryTimeFilters\", reactiveModel.generateDeliveryTimeFilters());\n\n        try {\n            runInAction(() => {\n                reactiveModel.setFilter(\"foodCategoryFilters\", foodFilters);\n                reactiveModel.setReady(true);\n            });\n            console.log(\"Model ready set to true\");\n        } catch (error) {\n            console.error(\"Error loading restaurants:\", error);\n        }\n    }\n\n    async function handleSnapShotACB(snapshot) {\n        const data = snapshot.data();\n\n        runInAction(() => {\n        if (!data) {\n            loadInitialData();\n        } else {\n            reactiveModel.setAllRestaurants(data.restaurants);\n            reactiveModel.setFilter(\"deliveryTimeFilters\", data.filters.deliveryTimeFilters);\n            reactiveModel.setFilter(\"priceFilters\", data.filters.priceFilters);\n            reactiveModel.setFilter(\"foodCategoryFilters\", data.filters.foodCategoryFilters);\n            reactiveModel.setReady(true);\n            console.log(\"Model ready set to true (from firebase)\");\n        }});\n    }\n\n    function handleGetErrorACB(error) {\n        console.log(\"Error getting snapshot:\", error);\n        loadInitialData();\n    }\n\n    function checkModelPropertiesACB() {\n    return [reactiveModel.appliedFilters.length, reactiveModel.allRestaurants.length];\n    }\n\n    async function giveDataToFirebaseACB() {\n        if (!reactiveModel.ready) {return;}\n        \n        try {\n            const docReference = doc(db, COLLECTION, \"SavedData\");\n            const data = {\n                restaurants: reactiveModel.allRestaurants,\n                filters: {\n                    foodCategoryFilters: reactiveModel.foodCategoryFilters,\n                    priceFilters: reactiveModel.priceFilters,\n                    deliveryTimeFilters: reactiveModel.deliveryTimeFilters\n                }\n            };\n            await setDoc(docReference, data);\n            console.log(\"Data saved to firebase\");\n        } catch (error) {\n            console.log(\"Error saving to firebase:\", error);\n        }\n    }\n        const docReference = doc(db, COLLECTION, \"SavedData\");\n        getDoc(docReference).then(handleSnapShotACB).catch(handleGetErrorACB);\n        return watcherFunction(checkModelPropertiesACB, giveDataToFirebaseACB);\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;AAEA,MAAM,MAAM,IAAA,oLAAa,EAAC,6JAAc;AACxC,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,aAAa;AAEZ,eAAe,qBAAqB,aAAa,EAAE,eAAe;IACrE,QAAQ,GAAG,CAAC,gCAAgC,OAAO;IAEnD,eAAe;QACX,QAAQ,GAAG,CAAC,4BAA4B,OAAO;QAE/C,MAAM,cAAc,eAAe;QACnC,MAAM,cAAc,MAAM,cAAc,eAAe;QACvD,cAAc,SAAS,CAAC,gBAAgB,cAAc,oBAAoB;QACtE,cAAc,SAAS,CAAC,uBAAuB,cAAc,2BAA2B;QAE5F,IAAI;YACA,IAAA,6JAAW,EAAC;gBACR,cAAc,SAAS,CAAC,uBAAuB;gBAC/C,cAAc,QAAQ,CAAC;YAC3B;YACA,QAAQ,GAAG,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,8BAA8B;QAChD;IACJ;IAEA,eAAe,kBAAkB,QAAQ;QACrC,MAAM,OAAO,SAAS,IAAI;QAE1B,IAAA,6JAAW,EAAC;YACZ,IAAI,CAAC,MAAM;gBACP;YACJ,OAAO;gBACH,cAAc,iBAAiB,CAAC,KAAK,WAAW;gBAChD,cAAc,SAAS,CAAC,uBAAuB,KAAK,OAAO,CAAC,mBAAmB;gBAC/E,cAAc,SAAS,CAAC,gBAAgB,KAAK,OAAO,CAAC,YAAY;gBACjE,cAAc,SAAS,CAAC,uBAAuB,KAAK,OAAO,CAAC,mBAAmB;gBAC/E,cAAc,QAAQ,CAAC;gBACvB,QAAQ,GAAG,CAAC;YAChB;QAAC;IACL;IAEA,SAAS,kBAAkB,KAAK;QAC5B,QAAQ,GAAG,CAAC,2BAA2B;QACvC;IACJ;IAEA,SAAS;QACT,OAAO;YAAC,cAAc,cAAc,CAAC,MAAM;YAAE,cAAc,cAAc,CAAC,MAAM;SAAC;IACjF;IAEA,eAAe;QACX,IAAI,CAAC,cAAc,KAAK,EAAE;YAAC;QAAO;QAElC,IAAI;YACA,MAAM,eAAe,IAAA,yKAAG,EAAC,IAAI,YAAY;YACzC,MAAM,OAAO;gBACT,aAAa,cAAc,cAAc;gBACzC,SAAS;oBACL,qBAAqB,cAAc,mBAAmB;oBACtD,cAAc,cAAc,YAAY;oBACxC,qBAAqB,cAAc,mBAAmB;gBAC1D;YACJ;YACA,MAAM,IAAA,4KAAM,EAAC,cAAc;YAC3B,QAAQ,GAAG,CAAC;QAChB,EAAE,OAAO,OAAO;YACZ,QAAQ,GAAG,CAAC,6BAA6B;QAC7C;IACJ;IACI,MAAM,eAAe,IAAA,yKAAG,EAAC,IAAI,YAAY;IACzC,IAAA,4KAAM,EAAC,cAAc,IAAI,CAAC,mBAAmB,KAAK,CAAC;IACnD,OAAO,gBAAgB,yBAAyB;AACxD"}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":["file:///Users/isabellevedenbrantfatouros/Documents/GitHub/work-test-web/src/app/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { ReactRoot } from \"./ReactRoot.jsx\";\nimport { reactiveModel } from \"./mobxReactiveModel.js\";\nimport { connectToPersistence } from \"./firebase/firestoreModel\";\nimport { SuspenseView } from \"./views/suspenseView.jsx\";\nimport { reaction } from \"mobx\";\nimport { useEffect, useState, useRef } from \"react\";\n\nexport default function Home() {\n  const [isClient, setIsClient] = useState(false);\n  const persistenceInitialized = useRef(false);\n\n  useEffect(() => {\n    setIsClient(true);\n    if (!persistenceInitialized.current) {\n      persistenceInitialized.current = true;\n      const disposer = connectToPersistence(reactiveModel, reaction);\n\n      return () => {\n        if (disposer) {\n          disposer();\n        }\n      };\n    }\n  }, []);\n\n  if (!isClient) {\n    return (\n      <SuspenseView model={reactiveModel} />\n    );\n  }\n  return (\n          <div>\n            <ReactRoot model={reactiveModel} />\n          </div>\n        );\n  }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,yBAAyB,IAAA,uKAAM,EAAC;IAEtC,IAAA,0KAAS;0BAAC;YACR,YAAY;YACZ,IAAI,CAAC,uBAAuB,OAAO,EAAE;gBACnC,uBAAuB,OAAO,GAAG;gBACjC,MAAM,WAAW,IAAA,mKAAoB,EAAC,mJAAa,EAAE,0JAAQ;gBAE7D;sCAAO;wBACL,IAAI,UAAU;4BACZ;wBACF;oBACF;;YACF;QACF;yBAAG,EAAE;IAEL,IAAI,CAAC,UAAU;QACb,qBACE,6LAAC,uJAAY;YAAC,OAAO,mJAAa;;;;;;IAEtC;IACA,qBACQ,6LAAC;kBACC,cAAA,6LAAC,wIAAS;YAAC,OAAO,mJAAa;;;;;;;;;;;AAGzC;GA5BsB;KAAA"}}]
}